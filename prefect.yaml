version: 3.0

deployments:

  - name: agdatavault-weekly
    flow_name: agdatavault-pipeline
    entrypoint: pipeline_flow.py:agdatavault_pipeline
    work_pool:
      name: default-process-pool
    parameters:
      restart: false
    schedules:
      - cron: "15 11 * * MON"
        timezone: "America/New_York"
      - cron: "45 11 * * MON"
        timezone: "America/New_York"
      - cron: "00 13 * * MON"
        timezone: "America/New_York"
      - cron: "00 18 * * MON"
        timezone: "America/New_York"
      - cron: "59 23 * * MON"
        timezone: "America/New_York"
      - cron: "00 18 * * TUE"
        timezone: "America/New_York"
      - cron: "00 18 * * WED"
        timezone: "America/New_York"
      - cron: "00 09 * * THU"
        timezone: "America/New_York"
      - cron: "30 09 * * THU"
        timezone: "America/New_York"
      - cron: "00 11 * * THU"
        timezone: "America/New_York"
      - cron: "00 18 * * THU"
        timezone: "America/New_York"
      - cron: "59 23 * * THU"
        timezone: "America/New_York"
      - cron: "00 18 * * FRI"
        timezone: "America/New_York"
      - cron: "00 18 * * SAT"
        timezone: "America/New_York"
      - cron: "00 18 * * SUN"
        timezone: "America/New_York"

  - name: agdatavault-full-restart
    flow_name: agdatavault-pipeline
    entrypoint: pipeline_flow.py:agdatavault_pipeline
    work_pool:
      name: default-process-pool
    parameters:
      restart: true
    schedules:
      - cron: "0 0 * * MON"
        timezone: "America/New_York"